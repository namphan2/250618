


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>MoMoCompose Coverage Report > Extra</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope: MoMoCompose<span class="separator">|</span>    <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">vn.momo.compose.payment.singleBill.data.dataSource.dto.response</a>
</div>

<h1>Coverage Summary for Class: Extra (vn.momo.compose.payment.singleBill.data.dataSource.dto.response)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">Extra</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/56)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/284)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Extra$Companion</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/56)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/286)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package vn.momo.compose.payment.singleBill.data.dataSource.dto.response
&nbsp;
&nbsp;import kotlinx.serialization.SerialName
&nbsp;import kotlinx.serialization.Serializable
&nbsp;import kotlinx.serialization.json.JsonArray
&nbsp;import kotlinx.serialization.json.JsonElement
&nbsp;import kotlinx.serialization.json.JsonObject
&nbsp;import kotlinx.serialization.json.buildJsonObject
&nbsp;import kotlinx.serialization.json.put
&nbsp;import vn.momo.compose.payment.base.data.dataSource.dto.base.BaseRowTextDTO
&nbsp;import vn.momo.compose.payment.base.data.dataSource.dto.response.SofDTO
&nbsp;import vn.momo.compose.payment.base.domain.entities.overlayData.PayXBottomSheet
&nbsp;import vn.momo.compose.payment.base.domain.entities.overlayData.PayXButtonBottomSheet
&nbsp;import vn.momo.compose.payment.payx.data.dataSource.dto.response.RemoteDialogDTO
&nbsp;import vn.momo.compose.utils.datamapping.ModelConvertUtils
&nbsp;import vn.momo.compose.utils.datamapping.emptyJsonObject
&nbsp;import vn.momo.compose.utils.datamapping.toJsonObject
&nbsp;
&nbsp;@Serializable
&nbsp;data class SBTransactionDTO(
&nbsp;    val momoMsg: SBMomoMsgDTO? = null,
&nbsp;    val time: Long? = null,
&nbsp;    val user: String? = null,
&nbsp;    val pass: String? = null,
&nbsp;    val cmdId: String? = null,
&nbsp;    val lang: String? = null,
&nbsp;    val msgType: String? = null,
&nbsp;    val result: Boolean? = null,
&nbsp;    val errorCode: Int? = null,
&nbsp;    val errorDesc: String? = null,
&nbsp;    val appCode: String? = null,
&nbsp;    val appVer: Long? = null,
&nbsp;    val channel: String? = null,
&nbsp;    val deviceOS: String? = null,
&nbsp;    val path: String? = null,
&nbsp;    val session: String? = null,
&nbsp;    val appId: String? = null,
&nbsp;    val buildNumber: Long? = null,
&nbsp;    val extra: Extra? = null
&nbsp;)
&nbsp;
<b class="nc">&nbsp;@Serializable</b>
&nbsp;data class Extra(
<b class="nc">&nbsp;    @SerialName(&quot;sofInfo&quot;) val rawSofInfo: String? = null,</b>
<b class="nc">&nbsp;    val splitTransSuggestion: String? = null,</b>
<b class="nc">&nbsp;    @SerialName(&quot;fraudData&quot;) val fraudDataJson: String? = null,</b>
<b class="nc">&nbsp;    val totalAmount: Double? = null,</b>
<b class="nc">&nbsp;    val originalAmount: Double? = null,</b>
<b class="nc">&nbsp;    val totalFee: Double? = null</b>
&nbsp;) {
&nbsp;    val sofInfo: List&lt;SofDTO&gt;
<b class="nc">&nbsp;        get() = ModelConvertUtils.decodeToList(SofDTO.serializer(), rawSofInfo ?: &quot;[]&quot;)</b>
&nbsp;
&nbsp;    val splitBillData: JsonObject?
<b class="nc">&nbsp;        get() = ModelConvertUtils.encodeToJson(splitTransSuggestion) as? JsonObject</b>
&nbsp;
&nbsp;    val fraudData
<b class="nc">&nbsp;        get() = ModelConvertUtils.decode(FraudData.serializer(), fraudDataJson ?: &quot;{}&quot;)</b>
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class FraudData(
&nbsp;    val refParams: RemoteDialogDTO? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class SBMomoMsgDTO(
&nbsp;    val errorCode: Int? = null,
&nbsp;    @SerialName(&quot;tranHisMsg&quot;)
&nbsp;    val tranHisMsgJson: JsonObject? = null,
&nbsp;    //p2p
&nbsp;    @SerialName(&quot;replyMsgs&quot;)
&nbsp;    val replyMsgsJson: List&lt;JsonObject&gt;? = null,
&nbsp;    @SerialName(&quot;bankInReply&quot;)
&nbsp;    val bankInReplyJson: JsonObject? = null
&nbsp;) {
&nbsp;    private val tranHisMsgDefault
&nbsp;        get() = ModelConvertUtils.decode(
&nbsp;            TranHisMsg.serializer(),
&nbsp;            tranHisMsgJson ?: emptyJsonObject()
&nbsp;        )
&nbsp;     val replyMsgs
&nbsp;        get() = ModelConvertUtils.decodeToList(
&nbsp;            TranHisP2P.serializer(),
&nbsp;            replyMsgsJson.toString()
&nbsp;        )
&nbsp;     val bankInReply
&nbsp;        get() = ModelConvertUtils.decode(
&nbsp;            TranHisP2P.serializer(),
&nbsp;            bankInReplyJson ?: emptyJsonObject()
&nbsp;        )
&nbsp;    private val firstReplyMsg get() = replyMsgs.firstOrNull()
&nbsp;    val ids get() = replyMsgs.mapNotNull { it.tranHisMsg?.ID }
&nbsp;    val tranIds = replyMsgs.mapNotNull { it.tranHisMsg?.tranId?.toString() }
&nbsp;    val tranHisMsg: TranHisMsg?
&nbsp;        get() = when {
&nbsp;            bankInReply?.tranHisMsg?.ID != null || bankInReply?.tranHisMsg?.tranId != null -&gt; bankInReply?.tranHisMsg
&nbsp;            firstReplyMsg?.tranHisMsg?.ID != null || firstReplyMsg?.tranHisMsg?.tranId != null -&gt; firstReplyMsg?.tranHisMsg
&nbsp;            else -&gt; tranHisMsgDefault
&nbsp;        }
&nbsp;    val giftId
&nbsp;        get() = firstReplyMsg?.tranHisMsg?.giftId ?: bankInReply?.tranHisMsg?.giftId
&nbsp;        ?: tranHisMsgDefault?.giftId
&nbsp;    val serviceId
&nbsp;        get() = firstReplyMsg?.tranHisMsg?.serviceId ?: bankInReply?.tranHisMsg?.serviceId
&nbsp;        ?: tranHisMsgDefault?.serviceId
&nbsp;    val tranType
&nbsp;        get() = firstReplyMsg?.tranHisMsg?.tranType ?: bankInReply?.tranHisMsg?.tranType
&nbsp;        ?: tranHisMsgDefault?.tranType
&nbsp;
&nbsp;    val transRefCode get() = firstReplyMsg?.tranHisMsg?.tranId
&nbsp;
&nbsp;    val voucherErrorDesc
&nbsp;        get() = bankInReply?.tranHisMsg?.enableOptions?.voucherDesc?.takeIf { it.isNotEmpty() }
&nbsp;            ?: firstReplyMsg?.tranHisMsg?.enableOptions?.voucherDesc?.takeIf { it.isNotEmpty() }
&nbsp;            ?: tranHisMsgDefault?.enableOptions?.voucherDesc
&nbsp;    val error
&nbsp;        get() =
&nbsp;            bankInReply?.tranHisMsg?.error ?: firstReplyMsg?.tranHisMsg?.error ?: tranHisMsgDefault?.error
&nbsp;    val cbAmount
&nbsp;        get() = bankInReply?.tranHisMsg?.cbAmount ?: firstReplyMsg?.tranHisMsg?.cbAmount
&nbsp;        ?: tranHisMsgDefault?.cbAmount
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class TranHisP2P(
&nbsp;    val id: String? = null,
&nbsp;    @SerialName(&quot;tranHisMsg&quot;)
&nbsp;    val tranHisMsgJson: JsonObject? = null,
&nbsp;) {
&nbsp;    val tranHisMsg
&nbsp;        get() = ModelConvertUtils.decode(
&nbsp;            TranHisMsg.serializer(),
&nbsp;            tranHisMsgJson ?: emptyJsonObject()
&nbsp;        )
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class TranHisMsg(
&nbsp;    val user: String? = null,
&nbsp;    val ID: String? = null,
&nbsp;    val tranId: Long? = null,
&nbsp;    val transId: Long? = null,
&nbsp;    var tranType: Int? = null,
&nbsp;    val partnerCode: String? = null,
&nbsp;    val rowCardId: String? = null,
&nbsp;    val amount: Double? = null,
&nbsp;    val originalAmount: Double? = null,
&nbsp;    val subAmount: Double? = null, // need to check
&nbsp;    var moneySource: Int? = null,
&nbsp;    val fee: Double? = null,
&nbsp;    var serviceId: String? = null,
&nbsp;    val merchantId: String? = null,
&nbsp;    val quantity: Int? = null,
&nbsp;    @SerialName(&quot;extras&quot;) val rawExtras: String? = null,
&nbsp;    val otpType: String? = null,
&nbsp;    @SerialName(&quot;enableOptions&quot;)
&nbsp;    val enableOptionsJson: JsonObject? = null,
&nbsp;    var sourceToken: String? = null,
&nbsp;    val isOtp: Boolean? = false, // need to check,
&nbsp;    var cbAmount: Double? = null,
&nbsp;    var giftId: String? = null,
&nbsp;    var discountCode: String? = null,
&nbsp;    val useVoucher: Double? = null,
&nbsp;    var error: Int? = null,
&nbsp;    val desc: String? = null,
&nbsp;) {
&nbsp;    val enableOptions
&nbsp;        get() = ModelConvertUtils.decode(
&nbsp;            EnableOptions.serializer(),
&nbsp;            enableOptionsJson ?: emptyJsonObject()
&nbsp;        )
&nbsp;    val cashInAmount = originalAmount?.times(quantity ?: 0)?.plus(subAmount ?: 0.0)
&nbsp;        ?.minus(extras?.feeMoMo ?: 0.0)?.minus(useVoucher ?: 0.0)
&nbsp;    val extras: CiCoExtras?
&nbsp;        get() = ModelConvertUtils.decode(CiCoExtras.serializer(), rawExtras ?: &quot;{}&quot;)
&nbsp;    val isShowPromotion: Boolean
&nbsp;        get() = enableOptions?.voucher == true || enableOptions?.discount == true
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class EnableOptions(
&nbsp;    val voucher: Boolean? = null,
&nbsp;    val discount: Boolean? = null,
&nbsp;    val prepaid: Boolean? = null,
&nbsp;    val desc: String? = null,
&nbsp;    val voucherDesc: String? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class CiCoExtras(
&nbsp;    @SerialName(&quot;paymentInfo&quot;) val rawPaymentInfo: JsonElement? = null,
&nbsp;    @SerialName(&quot;FEE_BANK&quot;) val feeCashInFromBank: Double? = 0.0,
&nbsp;    @SerialName(&quot;FEE_MOMO&quot;) val feeMoMo: Double? = 0.0,
&nbsp;    val feeInfo: FeeInfoDTO? = null,
&nbsp;    val bottomSheetConfig: SplitBillBottomSheetConfig? = null,
&nbsp;    val warningMsg: String? = null
&nbsp;) {
&nbsp;    val paymentInfo: List&lt;SBPaymentInfo&gt;
&nbsp;        get() = if (rawPaymentInfo is JsonArray) rawPaymentInfo.mapNotNull { info -&gt;
&nbsp;            (info as? JsonObject)?.let {
&nbsp;                ModelConvertUtils.decode(
&nbsp;                    SBPaymentInfo.serializer(),
&nbsp;                    it
&nbsp;                )
&nbsp;            }
&nbsp;        } else emptyList()
&nbsp;
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class SBPaymentInfo(
&nbsp;    val order: Int? = null,
&nbsp;    val title: JsonElement? = null,
&nbsp;    val value: JsonElement? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class FeeInfoDTO(
&nbsp;    val feeInfoDetails: List&lt;BaseRowTextDTO&gt;? = emptyList(),
&nbsp;    val feeInfoHeader: String? = null,
&nbsp;    val feeInfoHighlight: String? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class SplitBillButton(
&nbsp;    val label: String? = null,
&nbsp;    val action: String? = null,
&nbsp;    val refId: String? = null,
&nbsp;    val refParams: JsonObject? = emptyJsonObject(),
&nbsp;    val remainAmount: Double? = null
&nbsp;) {
&nbsp;    fun toPayXButton(): PayXButtonBottomSheet {
&nbsp;        val paramsWithAmount =
&nbsp;            refParams?.plus(buildJsonObject { put(&quot;remainAmount&quot;, remainAmount) })
&nbsp;        return PayXButtonBottomSheet(
&nbsp;            title = label,
&nbsp;            refId = refId,
&nbsp;            action = action,
&nbsp;            refParams = paramsWithAmount?.toJsonObject()
&nbsp;        )
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class SplitBillBottomSheetConfig(
&nbsp;    val title: String? = null,
&nbsp;    val headerUrl: String? = null,
&nbsp;    val content: String? = null,
&nbsp;    val buttons: List&lt;SplitBillButton&gt;? = emptyList()
&nbsp;) {
&nbsp;    fun toPayXBottomSheet(): PayXBottomSheet {
&nbsp;        val buttons = buttons?.map { it.toPayXButton() }
&nbsp;        return PayXBottomSheet(
&nbsp;            title = title,
&nbsp;            image = headerUrl,
&nbsp;            content = content,
&nbsp;            buttons = buttons
&nbsp;        )
&nbsp;    }
&nbsp;}
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-07-22 16:30</div>
</div>
</body>
</html>
