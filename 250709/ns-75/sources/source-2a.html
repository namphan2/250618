


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>MoMoCompose Coverage Report > TransactionItem</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope: MoMoCompose<span class="separator">|</span>    <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">vn.momo.compose.payment.payx.domain.entities.transactionresult</a>
</div>

<h1>Coverage Summary for Class: TransactionItem (vn.momo.compose.payment.payx.domain.entities.transactionresult)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">TransactionItem</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/17)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/434)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/101)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0.2%
  </span>
  <span class="absValue">
    (4/2391)
  </span>
</td>
</tr>
  <tr>
    <td class="name">TransactionItem$Companion</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/58)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">TransactionItem$getBasicInfo$1</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">TransactionItem$toMap$1</td>
    <td class="coverageStat"/>
  </tr>
  <tr>
    <td class="name">TransactionItem$WhenMappings</td>
    <td class="coverageStat"/>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/18)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/436)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/102)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0.2%
  </span>
  <span class="absValue">
    (4/2449)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package vn.momo.compose.payment.payx.domain.entities.transactionresult
&nbsp;
&nbsp;import androidx.compose.ui.graphics.Color
&nbsp;import kotlinx.serialization.Serializable
&nbsp;import org.jetbrains.compose.resources.getString
&nbsp;import vn.momo.compose.payment.payx.presentation.utils.extension.toFormattedDateString
&nbsp;import vn.momo.compose.resources.Res
&nbsp;import vn.momo.compose.resources.failedTransaction
&nbsp;import vn.momo.compose.resources.paymentTime
&nbsp;import vn.momo.compose.resources.processingTransaction
&nbsp;import vn.momo.compose.resources.successfullyTransaction
&nbsp;import vn.momo.compose.resources.transaction
&nbsp;import vn.momo.compose.utils.datamapping.ModelConvertUtils
&nbsp;import vn.momo.compose.utils.formatCurrency
&nbsp;import vn.momo.kits.const.Colors
&nbsp;
&nbsp;
&nbsp;enum class TransactionCode(val code: Int) {
&nbsp;    WAITING_CASHBACK(204), INIT_START(1), WAITING(200)
&nbsp;}
&nbsp;
&nbsp;enum class TransactionStatus {
&nbsp;    PROCESSING, SUCCESS, FAILED, PENDING
&nbsp;}
&nbsp;
<b class="nc">&nbsp;@Serializable</b>
&nbsp;data class TransactionItem(
<b class="nc">&nbsp;    var ID: String? = null,</b>
<b class="nc">&nbsp;    var user: String? = null,</b>
<b class="nc">&nbsp;    var tranId: Double? = null,</b>
<b class="nc">&nbsp;    var tranType: Int? = null,</b>
<b class="nc">&nbsp;    var io: Int? = null,</b>
<b class="nc">&nbsp;    var amount: Double? = null,</b>
<b class="nc">&nbsp;    var ownerNumber: String? = null,</b>
<b class="nc">&nbsp;    var ownerName: String? = null,</b>
<b class="nc">&nbsp;    var parentTranType: Int? = null,</b>
<b class="nc">&nbsp;    var error: Int? = null,</b>
<b class="nc">&nbsp;    var moneySource: Int? = null,</b>
<b class="nc">&nbsp;    var desc: String? = null,</b>
<b class="nc">&nbsp;    var serviceName: String? = null,</b>
<b class="nc">&nbsp;    var tranStatus: Int? = null,</b>
<b class="nc">&nbsp;    var serviceType: String? = null,</b>
<b class="nc">&nbsp;    var originalAmount: Double? = null,</b>
<b class="nc">&nbsp;    var serviceId: String? = null,</b>
<b class="nc">&nbsp;    var quantity: Int? = null,</b>
<b class="nc">&nbsp;    var lastUpdate: Double? = null,</b>
<b class="nc">&nbsp;    var tranData: String? = null,</b>
<b class="nc">&nbsp;    var otpType: String? = null,</b>
<b class="nc">&nbsp;    var ipAddress: String? = null,</b>
<b class="nc">&nbsp;    var purchaseId: String? = null,</b>
<b class="nc">&nbsp;    var invoiceId: String? = null,</b>
<b class="nc">&nbsp;    var _class: String? = null,</b>
<b class="nc">&nbsp;    var status: Int? = null,</b>
<b class="nc">&nbsp;    var discountCode: String? = null,</b>
<b class="nc">&nbsp;    var discountCampaignAmount: Double? = null,</b>
<b class="nc">&nbsp;    var disableTid: Boolean = false,</b>
<b class="nc">&nbsp;    var transCategory: String? = null,</b>
&nbsp;    // P2P params
<b class="nc">&nbsp;    val extras: String?= null,</b>
<b class="nc">&nbsp;    val agentId: String? = null,</b>
<b class="nc">&nbsp;    val partnerAgentId: String? = null,</b>
<b class="nc">&nbsp;    val partnerAvatarUrl: String? = null,</b>
<b class="nc">&nbsp;    val comment: String? = null,</b>
<b class="nc">&nbsp;    val receiverType: Int? = null,</b>
<b class="nc">&nbsp;    val partnerId: String? = null,</b>
<b class="nc">&nbsp;    val partnerCode: String? = null,</b>
<b class="nc">&nbsp;    val partnerName: String? = null,</b>
<b class="nc">&nbsp;    val initAmount: Double? = null,</b>
<b class="nc">&nbsp;    val refNumber: String? = null,</b>
<b class="nc">&nbsp;    val commandInd: String? = null,</b>
<b class="nc">&nbsp;    val parentId: Double? = null,</b>
&nbsp;) {
&nbsp;    companion object {
&nbsp;        fun toObject(data: Map&lt;String, Any?&gt;): TransactionItem {
<b class="nc">&nbsp;            return ModelConvertUtils.decode(serializer(), data) ?: TransactionItem()</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    val amountText: String
<b class="nc">&nbsp;        get() = (amount ?: 0.0).formatCurrency()</b>
&nbsp;
&nbsp;    val originalAmountText: String
<b class="nc">&nbsp;        get() = (originalAmount ?: 0.0).formatCurrency()</b>
&nbsp;
&nbsp;    val isValidAmount: Boolean
<b class="nc">&nbsp;        get() = amount != null</b>
&nbsp;
&nbsp;    val isValidOriginalAmount: Boolean
<b class="nc">&nbsp;        get() = originalAmount != null &amp;&amp; amount != null &amp;&amp; originalAmount!! &gt; amount!!</b>
&nbsp;
&nbsp;    val isPaymentSDK: Boolean
<b class="nc">&nbsp;        get() = serviceType == &quot;PAYMENT_PLATFORM&quot;</b>
&nbsp;
&nbsp;    val transactionStatus: TransactionStatus
&nbsp;        get() {
<b class="nc">&nbsp;            return when (tranStatus) {</b>
<b class="nc">&nbsp;                1 -&gt; TransactionStatus.SUCCESS</b>
<b class="nc">&nbsp;                0 -&gt; TransactionStatus.PROCESSING</b>
<b class="nc">&nbsp;                -1 -&gt; TransactionStatus.FAILED</b>
&nbsp;                else -&gt; {
<b class="nc">&nbsp;                    if (tranId == null) return TransactionStatus.PROCESSING</b>
<b class="nc">&nbsp;                    return when (error) {</b>
<b class="nc">&nbsp;                        9000 -&gt; TransactionStatus.PROCESSING</b>
<b class="nc">&nbsp;                        0, null -&gt; {</b>
<b class="nc">&nbsp;                            when (status) {</b>
<b class="nc">&nbsp;                                TransactionCode.WAITING_CASHBACK.code -&gt; TransactionStatus.PROCESSING</b>
<b class="nc">&nbsp;                                TransactionCode.WAITING.code, TransactionCode.INIT_START.code -&gt; {</b>
<b class="nc">&nbsp;                                    when (tranType) {</b>
<b class="nc">&nbsp;                                        5, 2018 -&gt; TransactionStatus.PROCESSING</b>
<b class="nc">&nbsp;                                        else -&gt; TransactionStatus.SUCCESS</b>
&nbsp;                                    }
&nbsp;                                }
&nbsp;
<b class="nc">&nbsp;                                else -&gt; TransactionStatus.SUCCESS</b>
&nbsp;                            }
&nbsp;                        }
&nbsp;
&nbsp;
<b class="nc">&nbsp;                        else -&gt; TransactionStatus.FAILED</b>
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;    private suspend fun transactionStatusTxt(): String {
<b class="nc">&nbsp;        return when (transactionStatus) {</b>
<b class="nc">&nbsp;            TransactionStatus.FAILED -&gt; getString(Res.string.failedTransaction)</b>
<b class="nc">&nbsp;            TransactionStatus.SUCCESS -&gt; getString(Res.string.successfullyTransaction)</b>
<b class="nc">&nbsp;            TransactionStatus.PROCESSING, TransactionStatus.PENDING -&gt; getString(Res.string.processingTransaction)</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    val transactionId: String
&nbsp;        get() {
<b class="nc">&nbsp;            return tranId?.takeIf { it &gt; 0 }?.toLong()?.toString() ?: &quot;&quot;</b>
&nbsp;        }
&nbsp;
&nbsp;    val isSuccess: Boolean
<b class="nc">&nbsp;        get() = transactionStatus == TransactionStatus.SUCCESS</b>
&nbsp;
&nbsp;    val isPending: Boolean
<b class="nc">&nbsp;        get() = transactionStatus == TransactionStatus.PROCESSING || transactionStatus == TransactionStatus.PENDING</b>
&nbsp;
&nbsp;    val isFailed: Boolean
<b class="nc">&nbsp;        get() = transactionStatus == TransactionStatus.FAILED</b>
&nbsp;
&nbsp;    val isVirtualTID: Boolean
<b class="nc">&nbsp;        get() = tranId?.toLong()?.let { it &gt; 1600000000000 } ?: true</b>
&nbsp;
&nbsp;    suspend fun toMap(): Map&lt;String, Any?&gt; {
<b class="nc">&nbsp;        val mapObj = ModelConvertUtils.encodeToPureMap(serializer(), this).toMutableMap()</b>
<b class="nc">&nbsp;        mapObj[&quot;transactionStatus&quot;] = transactionStatus.name</b>
<b class="nc">&nbsp;        mapObj[&quot;transactionStatusTxt&quot;] = transactionStatusTxt()</b>
<b class="nc">&nbsp;        mapObj[&quot;isSuccess&quot;] = isSuccess</b>
<b class="nc">&nbsp;        mapObj[&quot;isPending&quot;] = isPending</b>
<b class="nc">&nbsp;        mapObj[&quot;isProcessing&quot;] = isPending</b>
<b class="nc">&nbsp;        mapObj[&quot;isFailed&quot;] = isFailed</b>
<b class="nc">&nbsp;        return mapObj</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    suspend fun getBasicInfo(disableTID: Boolean = false): List&lt;TextRowItem&gt; {</b>
<b class="nc">&nbsp;        val result: MutableList&lt;TextRowItem&gt; = mutableListOf()</b>
&nbsp;
<b class="nc">&nbsp;        val color = when (disableTID || isVirtualTID) {</b>
<b class="nc">&nbsp;            true -&gt; Colors.black_12</b>
<b class="nc">&nbsp;            else -&gt; Color(0xffd82d8b)</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        transactionId.takeIf { it.isNotBlank() }?.let {</b>
<b class="nc">&nbsp;            result.add(</b>
<b class="nc">&nbsp;                TextRowItem(</b>
<b class="nc">&nbsp;                    getString(Res.string.transaction),</b>
<b class="nc">&nbsp;                    it,</b>
<b class="nc">&nbsp;                    valueColor = color,</b>
<b class="nc">&nbsp;                    rightIcon = &quot;ic_arrow_chevron_right.webp&quot;,</b>
<b class="nc">&nbsp;                    rightIconTintColor = color,</b>
<b class="nc">&nbsp;                    accessibilityId = &quot;text_tid&quot;</b>
&nbsp;                )
<b class="nc">&nbsp;            )</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        result.add(</b>
<b class="nc">&nbsp;            TextRowItem(</b>
<b class="nc">&nbsp;                getString(Res.string.paymentTime), lastUpdate.toFormattedDateString()</b>
&nbsp;            )
&nbsp;        )
&nbsp;
<b class="nc">&nbsp;        return result</b>
&nbsp;    }
&nbsp;}
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-07-08 11:34</div>
</div>
</body>
</html>
