


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>MoMoCompose Coverage Report > PaymentInstallmentScreenKt</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope: MoMoCompose<span class="separator">|</span>    <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">vn.momo.compose.payment.payx.presentation.view.screens</a>
</div>

<h1>Coverage Summary for Class: PaymentInstallmentScreenKt (vn.momo.compose.payment.payx.presentation.view.screens)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">PaymentInstallmentScreenKt</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/225)
  </span>
</td>
</tr>
  <tr>
    <td class="name">PaymentInstallmentScreenKt$PaymentInstallmentScreen$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/56)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/435)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">PaymentInstallmentScreenKt$PaymentInstallmentScreen$2$1$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/12)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/44)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/313)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">PaymentInstallmentScreenKt$PaymentInstallmentScreen$2$1$3$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/46)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/26)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/115)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1019)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package vn.momo.compose.payment.payx.presentation.view.screens
&nbsp;
&nbsp;import androidx.compose.foundation.background
&nbsp;import androidx.compose.foundation.clickable
&nbsp;import androidx.compose.foundation.layout.Arrangement
&nbsp;import androidx.compose.foundation.layout.Box
&nbsp;import androidx.compose.foundation.layout.Column
&nbsp;import androidx.compose.foundation.layout.Row
&nbsp;import androidx.compose.foundation.layout.fillMaxSize
&nbsp;import androidx.compose.foundation.layout.fillMaxWidth
&nbsp;import androidx.compose.foundation.layout.height
&nbsp;import androidx.compose.foundation.layout.padding
&nbsp;import androidx.compose.foundation.layout.size
&nbsp;import androidx.compose.foundation.shape.RoundedCornerShape
&nbsp;import androidx.compose.foundation.text.ClickableText
&nbsp;import androidx.compose.runtime.Composable
&nbsp;import androidx.compose.runtime.collectAsState
&nbsp;import androidx.compose.runtime.getValue
&nbsp;import androidx.compose.ui.Alignment
&nbsp;import androidx.compose.ui.Modifier
&nbsp;import androidx.compose.ui.draw.clip
&nbsp;import androidx.compose.ui.text.ExperimentalTextApi
&nbsp;import androidx.compose.ui.text.SpanStyle
&nbsp;import androidx.compose.ui.text.UrlAnnotation
&nbsp;import androidx.compose.ui.text.buildAnnotatedString
&nbsp;import androidx.compose.ui.text.font.FontWeight
&nbsp;import androidx.compose.ui.text.withAnnotation
&nbsp;import androidx.compose.ui.text.withStyle
&nbsp;import androidx.compose.ui.unit.dp
&nbsp;import org.jetbrains.compose.resources.stringResource
&nbsp;import vn.momo.compose.components.core.aliases.Radius8
&nbsp;import vn.momo.compose.payment.base.core.composeApi.INavigator
&nbsp;import vn.momo.compose.payment.payx.presentation.model.InstallmentPlanScreenProps
&nbsp;import vn.momo.compose.payment.payx.presentation.view.assets.Images
&nbsp;import vn.momo.compose.payment.payx.presentation.view.components.ExpandableCard
&nbsp;import vn.momo.compose.payment.payx.presentation.view.components.InstallmentPlanItem
&nbsp;import vn.momo.compose.payment.payx.presentation.view.components.skeletonEffect
&nbsp;import vn.momo.compose.payment.payx.presentation.viewModel.PaymentInstallmentVM
&nbsp;import vn.momo.compose.payment.payx.presentation.viewModel.action.InstallmentAction
&nbsp;import vn.momo.compose.resources.Res
&nbsp;import vn.momo.compose.resources.learnMore
&nbsp;import vn.momo.compose.resources.payLaterInstallment
&nbsp;import vn.momo.compose.resources.payLaterInstallmentGuide
&nbsp;import vn.momo.compose.resources.retry
&nbsp;import vn.momo.compose.resources.selectInstallmentPlan
&nbsp;import vn.momo.compose.resources.viewGuide
&nbsp;import vn.momo.kits.application.Screen
&nbsp;import vn.momo.kits.components.Button
&nbsp;import vn.momo.kits.components.Icon
&nbsp;import vn.momo.kits.components.Image
&nbsp;import vn.momo.kits.components.Text
&nbsp;import vn.momo.kits.const.Colors
&nbsp;import vn.momo.kits.const.Spacing
&nbsp;import vn.momo.kits.const.Typography
&nbsp;
&nbsp;const val html_installment_trans =
&nbsp;    &quot;https://img.mservice.com.vn/momo_app_v2/html/tnc_intallment_trans.html&quot;
&nbsp;
&nbsp;@OptIn(ExperimentalTextApi::class)
&nbsp;@Composable
&nbsp;fun PaymentInstallmentScreen(
&nbsp;    viewModel: PaymentInstallmentVM,
&nbsp;    props: InstallmentPlanScreenProps?,
&nbsp;    navigator: INavigator
<b class="nc">&nbsp;) {</b>
<b class="nc">&nbsp;    val installmentPlans by viewModel.installmentList.state.collectAsState()</b>
<b class="nc">&nbsp;    val questions by viewModel.questions.state.collectAsState()</b>
&nbsp;
<b class="nc">&nbsp;    Screen(</b>
<b class="nc">&nbsp;        title = stringResource(Res.string.selectInstallmentPlan),</b>
<b class="nc">&nbsp;        goBack = { navigator.dismiss() },</b>
<b class="nc">&nbsp;        headerRight = null,</b>
<b class="nc">&nbsp;        verticalArrangement = Arrangement.spacedBy(Spacing.M),</b>
<b class="nc">&nbsp;        backgroundColor = Colors.black_01,</b>
<b class="nc">&nbsp;        content = {</b>
<b class="nc">&nbsp;            Column(</b>
<b class="nc">&nbsp;                modifier = Modifier.fillMaxSize().background(Colors.black_01).padding(Spacing.M),</b>
<b class="nc">&nbsp;                verticalArrangement = Arrangement.spacedBy(Spacing.M)</b>
&nbsp;            ) {
<b class="nc">&nbsp;                ExpandableCard(</b>
<b class="nc">&nbsp;                    title = stringResource(Res.string.payLaterInstallment),</b>
<b class="nc">&nbsp;                    logo = props?.fakeSofContainer?.logo,</b>
<b class="nc">&nbsp;                    expandedBorderColor = Colors.pink_05,</b>
<b class="nc">&nbsp;                    cardTitleColor = Colors.black_01,</b>
<b class="nc">&nbsp;                    headerSeparator = false,</b>
<b class="nc">&nbsp;                    content = {</b>
<b class="nc">&nbsp;                        if (installmentPlans.loading) {</b>
<b class="nc">&nbsp;                            repeat(3) {</b>
<b class="nc">&nbsp;                                Box(</b>
<b class="nc">&nbsp;                                    modifier = Modifier</b>
<b class="nc">&nbsp;                                        .fillMaxWidth()</b>
<b class="nc">&nbsp;                                        .height(64.dp)</b>
<b class="nc">&nbsp;                                        .padding(vertical = Spacing.L, horizontal = Spacing.M)</b>
&nbsp;                                ) {
<b class="nc">&nbsp;                                    Box(</b>
<b class="nc">&nbsp;                                        modifier = Modifier</b>
<b class="nc">&nbsp;                                            .fillMaxSize()</b>
<b class="nc">&nbsp;                                            .clip(shape = RoundedCornerShape(Radius8))</b>
<b class="nc">&nbsp;                                            .skeletonEffect(1500)</b>
&nbsp;                                    )
<b class="nc">&nbsp;                                }</b>
<b class="nc">&nbsp;                            }</b>
<b class="nc">&nbsp;                        } else if (installmentPlans.list.isEmpty()) {</b>
<b class="nc">&nbsp;                            Column(</b>
<b class="nc">&nbsp;                                modifier = Modifier</b>
<b class="nc">&nbsp;                                    .fillMaxWidth()</b>
<b class="nc">&nbsp;                                    .padding(Spacing.XL),</b>
<b class="nc">&nbsp;                                verticalArrangement = Arrangement.spacedBy(Spacing.M),</b>
<b class="nc">&nbsp;                                horizontalAlignment = Alignment.CenterHorizontally</b>
&nbsp;                            ) {
<b class="nc">&nbsp;                                Image(</b>
<b class="nc">&nbsp;                                    source = Images.ic_empty_installment,</b>
<b class="nc">&nbsp;                                    modifier = Modifier.size(120.dp)</b>
&nbsp;                                )
<b class="nc">&nbsp;                                Text(</b>
<b class="nc">&nbsp;                                    text = installmentPlans.errorMessage,</b>
<b class="nc">&nbsp;                                    style = Typography.bodyDefaultRegular,</b>
&nbsp;                                )
<b class="nc">&nbsp;                                if (installmentPlans.showRetry) {</b>
<b class="nc">&nbsp;                                    Button(</b>
<b class="nc">&nbsp;                                        title = stringResource(Res.string.retry),</b>
<b class="nc">&nbsp;                                        onClick = {</b>
<b class="nc">&nbsp;                                            viewModel.dispatch(</b>
<b class="nc">&nbsp;                                                InstallmentAction.GetInstallmentPlan(</b>
<b class="nc">&nbsp;                                                    container = props?.fakeSofContainer</b>
&nbsp;                                                )
&nbsp;                                            )
&nbsp;                                        },
&nbsp;                                    )
&nbsp;                                }
<b class="nc">&nbsp;                            }</b>
<b class="nc">&nbsp;                        } else {</b>
<b class="nc">&nbsp;                            installmentPlans.list.map { plan -&gt;</b>
<b class="nc">&nbsp;                                InstallmentPlanItem(</b>
<b class="nc">&nbsp;                                    sof = plan,</b>
<b class="nc">&nbsp;                                    isSelected = plan.sourceToken == props?.selected,</b>
<b class="nc">&nbsp;                                    onPress = {</b>
<b class="nc">&nbsp;                                        viewModel.dispatch(</b>
<b class="nc">&nbsp;                                            InstallmentAction.SelectInstallmentPlan(plan)</b>
&nbsp;                                        )
&nbsp;                                    }
&nbsp;                                )
<b class="nc">&nbsp;                            }</b>
&nbsp;                        }
&nbsp;                    }
&nbsp;                )
<b class="nc">&nbsp;                val textWithLink = buildAnnotatedString {</b>
<b class="nc">&nbsp;                    val viewGuideAction = stringResource(Res.string.viewGuide)</b>
<b class="nc">&nbsp;                    val payLaterGuideAction = stringResource(Res.string.payLaterInstallmentGuide)</b>
<b class="nc">&nbsp;                    withAnnotation(UrlAnnotation(html_installment_trans)) {</b>
<b class="nc">&nbsp;                        withStyle(</b>
<b class="nc">&nbsp;                            style = SpanStyle(</b>
<b class="nc">&nbsp;                                color = Colors.blue_04,</b>
<b class="nc">&nbsp;                                fontWeight = FontWeight.Bold</b>
&nbsp;                            )
&nbsp;                        ) {
<b class="nc">&nbsp;                            append(viewGuideAction)</b>
<b class="nc">&nbsp;                        }</b>
<b class="nc">&nbsp;                    }</b>
<b class="nc">&nbsp;                    append(&quot; &quot;)</b>
<b class="nc">&nbsp;                    withStyle(style = SpanStyle(color = Colors.black_12)) {</b>
<b class="nc">&nbsp;                        append(payLaterGuideAction)</b>
<b class="nc">&nbsp;                    }</b>
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;                Row(</b>
<b class="nc">&nbsp;                    horizontalArrangement = Arrangement.spacedBy(Spacing.XS),</b>
<b class="nc">&nbsp;                    verticalAlignment = Alignment.CenterVertically</b>
&nbsp;                ) {
<b class="nc">&nbsp;                    Icon(</b>
<b class="nc">&nbsp;                        source = &quot;ic_notification_info&quot;,</b>
<b class="nc">&nbsp;                        size = Spacing.L,</b>
<b class="nc">&nbsp;                        color = Colors.black_12,</b>
<b class="nc">&nbsp;                        modifier = Modifier.clickable {</b>
<b class="nc">&nbsp;                            viewModel.dispatch(</b>
<b class="nc">&nbsp;                                InstallmentAction.OpenInstruction(</b>
<b class="nc">&nbsp;                                    html_installment_trans</b>
&nbsp;                                )
&nbsp;                            )
&nbsp;                        }
&nbsp;                    )
<b class="nc">&nbsp;                    ClickableText(text = textWithLink, onClick = { offset -&gt;</b>
<b class="nc">&nbsp;                        textWithLink.getUrlAnnotations(start = offset, end = offset).firstOrNull()</b>
<b class="nc">&nbsp;                            ?.let {</b>
<b class="nc">&nbsp;                                viewModel.dispatch(InstallmentAction.OpenInstruction(it.item.url))</b>
<b class="nc">&nbsp;                            }</b>
&nbsp;                    })
<b class="nc">&nbsp;                }</b>
&nbsp;
<b class="nc">&nbsp;                Text(</b>
<b class="nc">&nbsp;                    text = stringResource(Res.string.learnMore),</b>
<b class="nc">&nbsp;                    style = Typography.headerDefaultBold,</b>
&nbsp;                )
<b class="nc">&nbsp;                questions.map {</b>
<b class="nc">&nbsp;                    ExpandableCard(</b>
<b class="nc">&nbsp;                        title = it.first,</b>
<b class="nc">&nbsp;                        defaultState = false,</b>
<b class="nc">&nbsp;                        cardTitleColor = Colors.black_01,</b>
<b class="nc">&nbsp;                        expandedBorderColor = Colors.pink_05,</b>
<b class="nc">&nbsp;                        headerSeparator = true,</b>
<b class="nc">&nbsp;                        content = {</b>
<b class="nc">&nbsp;                            Text(</b>
<b class="nc">&nbsp;                                text = it.second,</b>
<b class="nc">&nbsp;                                style = Typography.bodyDefaultRegular,</b>
<b class="nc">&nbsp;                                modifier = Modifier.padding(Spacing.M)</b>
&nbsp;                            )
&nbsp;                        })
<b class="nc">&nbsp;                }</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
&nbsp;        }
&nbsp;    )
<b class="nc">&nbsp;}</b>
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-07-08 11:34</div>
</div>
</body>
</html>
