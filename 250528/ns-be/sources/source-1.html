


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>MoMoCompose Coverage Report > CiCoExtras</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope: MoMoCompose<span class="separator">|</span>    <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">vn.momo.compose.payment.singleBill.data.dataSource.dto.response</a>
</div>

<h1>Coverage Summary for Class: CiCoExtras (vn.momo.compose.payment.singleBill.data.dataSource.dto.response)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">CiCoExtras</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/52)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/15)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/290)
  </span>
</td>
</tr>
  <tr>
    <td class="name">CiCoExtras$Companion</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/52)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/292)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package vn.momo.compose.payment.singleBill.data.dataSource.dto.response
&nbsp;
&nbsp;import kotlinx.serialization.SerialName
&nbsp;import kotlinx.serialization.Serializable
&nbsp;import kotlinx.serialization.Transient
&nbsp;import kotlinx.serialization.json.JsonArray
&nbsp;import kotlinx.serialization.json.JsonElement
&nbsp;import kotlinx.serialization.json.JsonObject
&nbsp;import kotlinx.serialization.json.buildJsonObject
&nbsp;import kotlinx.serialization.json.put
&nbsp;import vn.momo.compose.payment.base.data.dataSource.dto.base.BaseRowTextDTO
&nbsp;import vn.momo.compose.payment.base.data.dataSource.dto.response.SofDTO
&nbsp;import vn.momo.compose.payment.payx.data.dataSource.dto.response.RemoteDialogDTO
&nbsp;import vn.momo.compose.payment.payx.domain.entities.overlayData.PayXBottomSheet
&nbsp;import vn.momo.compose.payment.payx.domain.entities.overlayData.PayXButtonBottomSheet
&nbsp;import vn.momo.compose.utils.datamapping.ModelConvertUtils
&nbsp;import vn.momo.compose.utils.datamapping.emptyJsonObject
&nbsp;import vn.momo.core.modules.common.utilities.toJsonObject
&nbsp;
&nbsp;@Serializable
&nbsp;data class CiCoTransactionDTO(
&nbsp;    override val momoMsg: MomoMsg? = null,
&nbsp;    override val time: Long? = null,
&nbsp;    override val user: String? = null,
&nbsp;    override val pass: String? = null,
&nbsp;    override val cmdId: String? = null,
&nbsp;    override val lang: String? = null,
&nbsp;    override val msgType: String? = null,
&nbsp;    override val result: Boolean? = null,
&nbsp;    override val errorCode: Int? = null,
&nbsp;    override val errorDesc: String? = null,
&nbsp;    override val appCode: String? = null,
&nbsp;    override val appVer: Long? = null,
&nbsp;    override val channel: String? = null,
&nbsp;    override val deviceOS: String? = null,
&nbsp;    override val path: String? = null,
&nbsp;    override val session: String? = null,
&nbsp;    override val appId: String? = null,
&nbsp;    override val buildNumber: Long? = null,
&nbsp;    override val extra: Extra? = null
&nbsp;) : SBTransactionDTO
&nbsp;
&nbsp;@Serializable
&nbsp;data class Extra(
&nbsp;    @SerialName(&quot;sofInfo&quot;) val rawSofInfo: String? = null,
&nbsp;    val splitTransSuggestion: String? = null,
&nbsp;    @SerialName(&quot;fraudData&quot;) val fraudDataJson: String? = null
&nbsp;) {
&nbsp;    val sofInfo: List&lt;SofDTO&gt;
&nbsp;        get() = ModelConvertUtils.decodeToList(SofDTO.serializer(), rawSofInfo ?: &quot;[]&quot;)
&nbsp;
&nbsp;    val splitBillData: JsonObject?
&nbsp;        get() = ModelConvertUtils.encodeToJson(splitTransSuggestion) as? JsonObject
&nbsp;
&nbsp;    val fraudData
&nbsp;        get() = ModelConvertUtils.decode(FraudData.serializer(), fraudDataJson ?: &quot;{}&quot;)
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class MomoMsg(
&nbsp;    val errorCode: Int? = null,
&nbsp;    val tranHisMsg: TranHisMsg? = null,
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class TranHisMsg(
&nbsp;    val user: String? = null,
&nbsp;    val ID: String? = null,
&nbsp;    val tranId: Long? = null,
&nbsp;    val transId: Long? = null,
&nbsp;    var tranType: Int? = null,
&nbsp;    val io: Int? = null,
&nbsp;    val partnerCode: String? = null,
&nbsp;    val rowCardId: String? = null,
&nbsp;    val amount: Double? = null,
&nbsp;    val originalAmount: Double? = null,
&nbsp;    val subAmount: Double? = null, // need to check
&nbsp;    val status: Int? = null,
&nbsp;    val ownerNumber: String? = null,
&nbsp;    var moneySource: Int? = null,
&nbsp;    val fee: Double? = null,
&nbsp;//    val desc: String? = null,
&nbsp;    var serviceId: String? = null,
&nbsp;    val merchantId: String? = null,
&nbsp;    val quantity: Int? = null,
&nbsp;//    val lastUpdate: Long? = null,
&nbsp;    val share: String? = null,
&nbsp;    val receiverType: Int? = null,
&nbsp;    @SerialName(&quot;extras&quot;) val rawExtras: String? = null,
&nbsp;    val channel: String? = null,
&nbsp;    val otpType: String? = null,
&nbsp;    val ipAddress: String? = null,
&nbsp;    val defaultMoneySource: Int? = null,
&nbsp;    val enableOptions: EnableOptions? = null,
&nbsp;    var sourceToken: String? = null,
&nbsp;//    val appVer: Long? = null,
&nbsp;    val isOtp: Boolean? = false, // need to check,
&nbsp;    val cbAmount: Double? = null,
&nbsp;    var giftId: String? = null,
&nbsp;    val giftType: String? = null,
&nbsp;    val partnerName: String? = null,
&nbsp;    val partnerId: String? = null,
&nbsp;    val useVoucher: Double? = null,
&nbsp;    var tidShelled: Boolean? = null,
&nbsp;    val _class: String? = null,
&nbsp;    //p2p
&nbsp;    val comment: String? = null,
&nbsp;    val rowCardNum: String? = null,
&nbsp;    val ownerName: String? = null,
&nbsp;    val partnerRef: String? = null,
&nbsp;    val riskId: String? = null,
&nbsp;    val category: Int? = null,
&nbsp;    val parentTranType: Int? = null,
&nbsp;    val productId: String? = null,
&nbsp;    val serviceCode: String? = null,
&nbsp;    @Transient
&nbsp;    var idFirstReplyMsg: String? = null,
&nbsp;    @Transient
&nbsp;    var bankInId: String? = null,
&nbsp;    @Transient
&nbsp;    var ids: List&lt;String&gt;? = null,
&nbsp;    @Transient
&nbsp;    var tranIds: List&lt;String&gt;? = null, //use for app2app
&nbsp;    @Transient
&nbsp;    var tranHisMsgs: List&lt;TranHisMsg&gt;? = null //use for app2app
&nbsp;) {
&nbsp;    val cashInAmount = originalAmount?.times(quantity ?: 0)?.plus(subAmount ?: 0.0)
&nbsp;        ?.minus(extras?.feeMoMo ?: 0.0)
&nbsp;    val extras: CiCoExtras?
&nbsp;        get() = ModelConvertUtils.decode(CiCoExtras.serializer(), rawExtras ?: &quot;{}&quot;)
&nbsp;    val isShowPromotion: Boolean
&nbsp;        get() = enableOptions?.voucher == true || enableOptions?.discount == true
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class EnableOptions(
&nbsp;    val voucher: Boolean? = null,
&nbsp;    val discount: Boolean? = null,
&nbsp;    val prepaid: Boolean? = null,
&nbsp;    val desc: String? = null,
&nbsp;    val voucherDesc: String? = null
&nbsp;)
&nbsp;
<b class="nc">&nbsp;@Serializable</b>
&nbsp;data class CiCoExtras(
<b class="nc">&nbsp;    @SerialName(&quot;paymentInfo&quot;) val rawPaymentInfo: JsonElement? = null,</b>
<b class="nc">&nbsp;    @SerialName(&quot;FEE_BANK&quot;) val feeCashInFromBank: Double? = 0.0,</b>
<b class="nc">&nbsp;    @SerialName(&quot;FEE_MOMO&quot;) val feeMoMo: Double? = 0.0,</b>
<b class="nc">&nbsp;    val feeInfo: FeeInfoDTO? = null,</b>
<b class="nc">&nbsp;    val bottomSheetConfig: SplitBillBottomSheetConfig? = null,</b>
<b class="nc">&nbsp;    val warningMsg: String? = null</b>
&nbsp;) {
&nbsp;    val paymentInfo: List&lt;SBPaymentInfo&gt;
<b class="nc">&nbsp;        get() = if (rawPaymentInfo is JsonArray) rawPaymentInfo.mapNotNull { info -&gt;</b>
<b class="nc">&nbsp;            (info as? JsonObject)?.let {</b>
<b class="nc">&nbsp;                ModelConvertUtils.decode(</b>
<b class="nc">&nbsp;                    SBPaymentInfo.serializer(),</b>
<b class="nc">&nbsp;                    it</b>
<b class="nc">&nbsp;                )</b>
<b class="nc">&nbsp;            }</b>
<b class="nc">&nbsp;        } else emptyList()</b>
&nbsp;
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class SplitBillBottomSheetConfig(
&nbsp;    val title: String? = null,
&nbsp;    val headerUrl: String? = null,
&nbsp;    val content: String? = null,
&nbsp;    val buttons: List&lt;SplitBillButton&gt;? = emptyList()
&nbsp;) {
&nbsp;    fun toPayXBottomSheet(): PayXBottomSheet {
&nbsp;        val buttons = buttons?.map { it.toPayXButton() }
&nbsp;        return PayXBottomSheet(
&nbsp;            title = title,
&nbsp;            image = headerUrl,
&nbsp;            content = content,
&nbsp;            buttons = buttons
&nbsp;        )
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class SplitBillButton(
&nbsp;    val label: String? = null,
&nbsp;    val action: String? = null,
&nbsp;    val refId: String? = null,
&nbsp;    val refParams: JsonObject? = emptyJsonObject(),
&nbsp;    val remainAmount: Double? = null
&nbsp;) {
&nbsp;    fun toPayXButton(): PayXButtonBottomSheet {
&nbsp;        val paramsWithAmount =
&nbsp;            refParams?.plus(buildJsonObject { put(&quot;remainAmount&quot;, remainAmount) })
&nbsp;        return PayXButtonBottomSheet(
&nbsp;            title = label,
&nbsp;            refId = refId,
&nbsp;            action = action,
&nbsp;            refParams = paramsWithAmount?.toJsonObject()
&nbsp;        )
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;@Serializable
&nbsp;data class SBPaymentInfo(
&nbsp;    val order: Int? = null,
&nbsp;    val title: JsonElement? = null,
&nbsp;    val value: JsonElement? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class FeeInfoDTO(
&nbsp;    val feeInfoDetails: List&lt;BaseRowTextDTO&gt;? = emptyList(),
&nbsp;    val feeInfoHeader: String? = null,
&nbsp;    val feeInfoHighlight: String? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class FraudData(
&nbsp;    val refParams: RemoteDialogDTO? = null
&nbsp;)
&nbsp;
&nbsp;@Serializable
&nbsp;data class P2PTransactionDTO(
&nbsp;    @SerialName(&quot;momoMsg&quot;)
&nbsp;    val p2pMoMoMsg: P2PMoMoMsg? = null,
&nbsp;    @Transient
&nbsp;    override val momoMsg: MomoMsg? = p2pMoMoMsg?.toMoMoTransaction(),
&nbsp;    override val time: Long? = null,
&nbsp;    override val user: String? = null,
&nbsp;    override val pass: String? = null,
&nbsp;    override val cmdId: String? = null,
&nbsp;    override val lang: String? = null,
&nbsp;    override val msgType: String? = null,
&nbsp;    override val result: Boolean? = null,
&nbsp;    override val errorCode: Int? = null,
&nbsp;    override val errorDesc: String? = null,
&nbsp;    override val appCode: String? = null,
&nbsp;    override val appVer: Long? = null,
&nbsp;    override val channel: String? = null,
&nbsp;    override val deviceOS: String? = null,
&nbsp;    override val path: String? = null,
&nbsp;    override val session: String? = null,
&nbsp;    override val appId: String? = null,
&nbsp;    override val buildNumber: Long? = null,
&nbsp;    override val extra: Extra? = null
&nbsp;) : SBTransactionDTO
&nbsp;
&nbsp;@Serializable
&nbsp;data class P2PMoMoMsg(
&nbsp;    val replyMsgs: List&lt;MomoMsg&gt;? = emptyList(),
&nbsp;    val bankInReply: MomoMsg? = null
&nbsp;) {
&nbsp;    fun toMoMoTransaction(): MomoMsg? {
&nbsp;        val firstReplyMsg = replyMsgs?.firstOrNull()
&nbsp;        val transaction =
&nbsp;            bankInReply?.takeIf { it.tranHisMsg?.ID != null || it.tranHisMsg?.tranId != null }
&nbsp;                ?: firstReplyMsg
&nbsp;        return transaction?.apply {
&nbsp;            this.tranHisMsg?.idFirstReplyMsg = firstReplyMsg?.tranHisMsg?.ID
&nbsp;            this.tranHisMsg?.bankInId = bankInReply?.tranHisMsg?.ID
&nbsp;            this.tranHisMsg?.ids = replyMsgs?.mapNotNull { it.tranHisMsg?.ID }
&nbsp;            this.tranHisMsg?.tranIds = replyMsgs?.mapNotNull { it.tranHisMsg?.tranId?.toString() }
&nbsp;            this.tranHisMsg?.tranHisMsgs = replyMsgs?.mapNotNull { it.tranHisMsg }
&nbsp;            firstReplyMsg?.tranHisMsg?.tranType?.let {
&nbsp;                this.tranHisMsg?.tranType = it
&nbsp;            }
&nbsp;            firstReplyMsg?.tranHisMsg?.serviceId?.let {
&nbsp;                this.tranHisMsg?.serviceId = it
&nbsp;            }
&nbsp;            firstReplyMsg?.tranHisMsg?.giftId?.let {
&nbsp;                this.tranHisMsg?.giftId = it
&nbsp;            }
&nbsp;            firstReplyMsg?.tranHisMsg?.tidShelled?.let {
&nbsp;                this.tranHisMsg?.tidShelled = it
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;}
&nbsp;
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-07-08 10:52</div>
</div>
</body>
</html>
